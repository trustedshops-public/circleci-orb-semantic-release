description: >
  Install and run semantic-release with existing configuration files

executor: default

parameters:
  additional_packages:
    default: ""
    description: Additional npm packages to install, seperated by space
    type: string
  validate_config_file:
    default: false
    description: Validate the presence of the configuration file in the project
    type: boolean
  config_file:
    default: ".releaserc.json"
    description: Configuration file to check
    type: string

steps:
  - checkout
  - when:
      condition: <<parameters.validate_config_file>>
      steps:
        - verify_config:
            config_file: <<parameters.config_file>>
  - install:
      additional_packages: <<parameters.additional_packages>>
  - execute
